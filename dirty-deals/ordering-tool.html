<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Dirty Deals Tool</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Rajdhani:wght@500;600;700&family=Roboto:wght@400;700&display=swap');

        :root {
            --accent: #5e6bf6; 
            --accent-hover: #4b56c4;
            --bg-glass: #121212;
            --bg-card: #1e1e1e;
            --border: 1px solid #333;
            --text-main: #ffffff;
            --text-dim: #888888;
            
            /* Status Colors */
            --st-pending: #f1c40f;
            --st-accepted: #3498db;
            --st-denied: #e74c3c;
            --st-completed: #2ecc71;
        }

        /* DISABLE SELECTION & KEYBLOCKS */
        * { box-sizing: border-box; user-select: none; -webkit-user-select: none; }

        body {
            margin: 0; padding: 0;
            font-family: 'Roboto', sans-serif;
            background-color: transparent;
            color: var(--text-main);
            overflow: hidden;
            height: 100vh; width: 100vw;
        }

        /* --- DRAGGABLE CONTAINER --- */
        #app-container {
            position: absolute;
            top: 50px; left: 50px;
            width: 800px;
            height: 600px; 
            background: var(--bg-glass);
            border: var(--border);
            border-radius: 8px;
            box-shadow: 0 15px 50px rgba(0,0,0,0.95);
            display: flex;
            flex-direction: column;
            overflow: hidden;
            z-index: 1000;
        }

        /* --- HEADER --- */
        header {
            background: #181818;
            padding: 0 20px;
            cursor: move;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: var(--border);
            font-family: 'Rajdhani', sans-serif;
            text-transform: uppercase;
            letter-spacing: 1px;
            font-weight: 700;
            height: 60px;
            flex-shrink: 0;
        }

        .header-btn {
            background: #252525;
            border: 1px solid #333;
            color: #ccc;
            padding: 5px 12px;
            font-size: 0.8em;
            cursor: pointer;
            margin-left: 10px;
            border-radius: 4px;
            transition: 0.2s;
        }
        .header-btn:hover { background: var(--accent); color: white; border-color: var(--accent); }
        .header-btn.active { background: var(--accent); color: white; border-color: var(--accent); }

        /* --- LAYOUT --- */
        #main-content {
            display: flex;
            flex: 1;
            overflow: hidden;
            position: relative; /* For overlays */
        }

        /* VIEW: ORDERING (Default) */
        #view-order {
            display: flex;
            width: 100%;
            height: 100%;
        }

        /* VIEW: MY ORDERS (Hidden by default) */
        #view-history {
            display: none;
            width: 100%;
            height: 100%;
            padding: 20px;
            flex-direction: column;
            background: #141414;
        }

        /* LEFT: ITEM GRID */
        .selection-area {
            flex: 2;
            padding: 20px;
            overflow-y: hidden;
            border-right: var(--border);
            background: #141414;
            display: flex;
            flex-direction: column;
        }
        
        /* CATEGORY TABS */
        .category-tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 15px;
            flex-shrink: 0;
        }

        .tab-btn {
            flex: 1;
            background: #252525;
            border: 1px solid #333;
            color: #888;
            padding: 10px;
            border-radius: 4px;
            cursor: pointer;
            font-family: 'Rajdhani', sans-serif;
            font-weight: bold;
            text-transform: uppercase;
            transition: 0.2s;
            text-align: center;
        }
        .tab-btn:hover { background: #333; color: white; }
        .tab-btn.active {
            background: var(--accent);
            color: white;
            border-color: var(--accent);
            box-shadow: 0 4px 10px rgba(94, 107, 246, 0.3);
        }

        .section-title {
            color: var(--text-main);
            font-size: 1.1em;
            margin-bottom: 10px;
            font-family: 'Rajdhani', sans-serif;
        }

        .grid-wrapper {
            overflow-y: auto;
            flex: 1;
            padding-right: 5px;
        }

        .grid-container {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
            padding-bottom: 20px;
        }

        .grid-item {
            background: var(--bg-card);
            border: 1px solid rgba(255,255,255,0.05);
            border-radius: 6px;
            padding: 10px 5px;
            text-align: center;
            cursor: pointer;
            transition: all 0.2s ease;
            position: relative;
            height: 100px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }
        .grid-item:hover { background: rgba(255,255,255,0.08); transform: translateY(-2px); }
        .grid-item.active {
            border: 1px solid var(--accent);
            background: rgba(94, 107, 246, 0.1);
            box-shadow: inset 0 0 15px rgba(94, 107, 246, 0.1);
        }
        
        .check-mark {
            position: absolute; top: 5px; right: 5px;
            color: var(--accent); font-size: 12px; opacity: 0;
        }
        .grid-item.active .check-mark { opacity: 1; }

        .item-icon { font-size: 28px; margin-bottom: 5px; display: block; filter: grayscale(100%); transition: 0.2s; }
        .grid-item.active .item-icon { filter: grayscale(0%); }
        .item-name { display: block; font-weight: bold; font-size: 0.85em; margin-bottom: 2px; color: #fff; }
        .item-price { display: block; font-size: 0.75em; color: var(--text-dim); }

        /* RIGHT: ORDER FORM */
        .details-area {
            flex: 1;
            padding: 25px;
            background: #181818;
            display: flex;
            flex-direction: column;
            gap: 15px;
            justify-content: flex-start;
        }

        .input-group { margin-bottom: 5px; }
        .label { font-size: 0.75em; color: var(--text-dim); margin-bottom: 6px; text-transform: uppercase; }
        .label span { float: right; color: var(--accent); font-weight: bold; }
        
        input[type="text"], input[type="number"], select {
            width: 100%;
            background: #252525;
            border: 1px solid #383838;
            color: white;
            padding: 12px;
            border-radius: 4px;
            font-family: 'Rajdhani', sans-serif;
            font-weight: 600;
            font-size: 0.95em;
        }
        input:focus, select:focus { outline: none; border-color: var(--accent); }

        /* Range Slider */
        input[type=range] {
            width: 100%; margin-top: 10px; accent-color: var(--accent); cursor: pointer;
        }

        /* Total Price Box */
        .total-box {
            margin-top: auto; 
            text-align: right;
            border-top: 1px solid #333;
            padding-top: 10px;
            margin-bottom: 5px;
            flex-shrink: 0; 
            min-height: 80px; 
            display: flex;
            flex-direction: column;
            justify-content: center;
        }
        
        .total-label { font-size: 0.8em; color: var(--text-dim); margin-bottom: 5px; }
        
        .total-price { 
            font-size: 2.2em; 
            font-weight: 700; 
            color: var(--text-main); 
            font-family: 'Rajdhani', sans-serif; 
            white-space: nowrap; 
            line-height: 1.1; 
            transition: font-size 0.2s ease;
        }

        /* Order Button */
        .btn-order {
            background: var(--accent);
            color: white;
            border: none;
            width: 100%;
            padding: 15px;
            border-radius: 4px;
            font-weight: bold;
            font-size: 1em;
            text-transform: uppercase;
            cursor: pointer;
            transition: 0.2s;
            letter-spacing: 1px;
            flex-shrink: 0; 
        }
        .btn-order:hover { background: var(--accent-hover); box-shadow: 0 0 15px rgba(94, 107, 246, 0.4); }
        .btn-order:disabled { background: #333; color: #555; cursor: not-allowed; box-shadow: none; }

        /* --- HISTORY LIST STYLES --- */
        .history-list {
            flex: 1;
            overflow-y: auto;
            border: 1px solid #333;
            background: #1a1a1a;
            border-radius: 4px;
        }
        
        .history-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px 15px;
            border-bottom: 1px solid #2a2a2a;
            font-size: 0.9em;
        }
        .history-item:last-child { border-bottom: none; }
        .history-item:hover { background: #222; }

        .h-info { display: flex; flex-direction: column; }
        .h-item { font-weight: bold; color: white; font-size: 1.1em; }
        .h-sub { font-size: 0.85em; color: #888; }
        
        .status-badge {
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 0.75em;
            font-weight: bold;
            text-transform: uppercase;
            font-family: 'Rajdhani', sans-serif;
            color: #111;
        }
        .st-Pending { background: var(--st-pending); }
        .st-Accepted { background: var(--st-accepted); }
        .st-Denied { background: var(--st-denied); color: white; }
        .st-Completed { background: var(--st-completed); }

        /* Scrollbar */
        ::-webkit-scrollbar { width: 6px; }
        ::-webkit-scrollbar-track { background: #111; }
        ::-webkit-scrollbar-thumb { background: #333; border-radius: 3px; }

    </style>
</head>
<body>

<div id="app-container">
    <header id="drag-handle">
        <span style="display:flex; align-items:center; gap:10px;">
            <span style="color:var(--accent); font-size:1.2em;">üì¶</span> 
            <span>Dirty Deals</span>
            
            <button class="header-btn active" id="nav-order" onclick="switchView('order')">New Order</button>
            <button class="header-btn" id="nav-history" onclick="switchView('history')">My Orders</button>
        </span>
        
        <div style="text-align:right;">
            <div id="username-display" style="font-size:0.9em; color:#fff;">Wait...</div>
            <div id="userid-display" style="font-size:0.7em; color:#555;">ID: --</div>
        </div>
    </header>

    <div id="main-content">
        
        <div id="view-order">
            <div class="selection-area">
                <div class="category-tabs">
                    <div class="tab-btn active" onclick="setCategory('Bonus EXP')">Bonus EXP</div>
                    <div class="tab-btn" onclick="setCategory('Raw Materials')">Raw Mat.</div>
                    <div class="tab-btn" onclick="setCategory('Product')">Product</div>
                </div>

                <div class="section-title">Select Item</div>
                
                <div class="grid-wrapper">
                    <div class="grid-container" id="item-grid">
                        </div>
                </div>
            </div>

            <div class="details-area">
                
                <div class="input-group">
                    <div class="label">Selected Item</div>
                    <input type="text" id="disp-item-name" placeholder="Select from grid..." readonly 
                           style="background:#1a1a1a; border-color:transparent; color:#888;">
                </div>

                <div class="input-group">
                    <div class="label">Quantity <span id="limit-display"></span></div>
                    <input type="number" id="input-qty" value="1" min="1">
                    <input type="range" id="range-qty" min="1" value="1">
                </div>

                <div class="input-group">
                    <div class="label">Priority Level</div>
                    <select id="input-priority">
                        <option value="normal">Normal (100%)</option>
                        <option value="high">High Priority (125% Cost)</option>
                    </select>
                </div>

                <div class="total-box">
                    <div class="total-label">Total Price</div>
                    <div class="total-price" id="disp-total">$0</div>
                </div>

                <div>
                    <button class="btn-order" id="btn-submit" onclick="submitOrder()" disabled>Confirm Order</button>
                    <div id="status-msg" style="text-align:center; font-size:0.75em; margin-top:8px; color:#555;">Select an item to start</div>
                </div>

            </div>
        </div>

        <div id="view-history">
            <div style="display:flex; justify-content:space-between; margin-bottom:10px;">
                <span class="section-title" style="margin:0;">Recent Orders</span>
                <button class="header-btn" onclick="fetchMyOrders()">‚Üª Refresh</button>
            </div>
            
            <div class="history-list" id="history-container">
                <div style="padding:20px; text-align:center; color:#555;">Loading history...</div>
            </div>
        </div>

    </div>
</div>

<script>
const _0x38c47c=_0x3847;(function(_0x3da62f,_0x56e43b){const _0x38507e=_0x3847,_0x36a6bd=_0x3da62f();while(!![]){try{const _0x2a8589=parseInt(_0x38507e(0x100))/0x1+parseInt(_0x38507e(0xcd))/0x2*(parseInt(_0x38507e(0xca))/0x3)+parseInt(_0x38507e(0xac))/0x4+parseInt(_0x38507e(0xa8))/0x5*(parseInt(_0x38507e(0xff))/0x6)+-parseInt(_0x38507e(0xd2))/0x7+-parseInt(_0x38507e(0x111))/0x8+parseInt(_0x38507e(0x78))/0x9*(parseInt(_0x38507e(0xfd))/0xa);if(_0x2a8589===_0x56e43b)break;else _0x36a6bd['push'](_0x36a6bd['shift']());}catch(_0x45a016){_0x36a6bd['push'](_0x36a6bd['shift']());}}}(_0x18cc,0x857f9));const GOOGLE_SCRIPT_URL=_0x38c47c(0xf1),CATEGORIES={'Bonus\x20EXP':[{'name':'Airline\x20XP','price':0x2134,'limit':0x3a98,'icon':'‚úàÔ∏è'},{'name':_0x38c47c(0x8b),'price':0xf3c,'limit':0x4e20,'icon':'üíº'},{'name':'Bus\x20XP','price':0x1964,'limit':0x4e20,'icon':'üöå'},{'name':_0x38c47c(0x12f),'price':0x1d4c,'limit':0x3a98,'icon':'üì¶'},{'name':_0x38c47c(0x122),'price':0xdac,'limit':0x3a98,'icon':'üé´'},{'name':'EMS\x20XP','price':0xbb8,'limit':0x4e20,'icon':'üöë'},{'name':_0x38c47c(0xdf),'price':0xc80,'limit':0x4e20,'icon':'üöú'},{'name':_0x38c47c(0xe4),'price':0x1388,'limit':0x4e20,'icon':'üî•'},{'name':_0x38c47c(0x119),'price':0x2710,'limit':0x9c4,'icon':'üé£'},{'name':_0x38c47c(0x75),'price':0xea6,'limit':0x3a98,'icon':'üóëÔ∏è'},{'name':_0x38c47c(0x96),'price':0x1c52,'limit':0x3a98,'icon':'üèπ'},{'name':_0x38c47c(0xad),'price':0x1b58,'limit':0x3a98,'icon':'üöÅ'},{'name':_0x38c47c(0xf6),'price':0x1900,'limit':0x3a98,'icon':'üîß'},{'name':_0x38c47c(0x7c),'price':0xbb8,'limit':0x4e20,'icon':'‚õèÔ∏è'},{'name':_0x38c47c(0x103),'price':0x1f4,'limit':0xc350,'icon':'üßç'},{'name':_0x38c47c(0xfc),'price':0x1f40,'limit':0x3a98,'icon':'üì®'},{'name':_0x38c47c(0x129),'price':0x1964,'limit':0x3a98,'icon':_0x38c47c(0x10c)},{'name':'Strength\x20XP','price':0x1f4,'limit':0xc350,'icon':'üí™'},{'name':_0x38c47c(0x8a),'price':0x2bc,'limit':0xc350,'icon':'üöö'}],'Raw\x20Materials':[{'name':_0x38c47c(0x11c),'price':0x2ee0,'limit':0x5dc,'icon':'üß™'},{'name':_0x38c47c(0xbe),'price':0x27100,'limit':0x1f4,'icon':'üîã'},{'name':_0x38c47c(0xfe),'price':0xafc8,'limit':0x1f4,'icon':'ü•â'},{'name':_0x38c47c(0xb8),'price':0x17318,'limit':0x7d0,'icon':_0x38c47c(0xaf)},{'name':_0x38c47c(0xeb),'price':0x14c08,'limit':0x1f4,'icon':'‚¨ú'},{'name':_0x38c47c(0xae),'price':0x55f0,'limit':0x3e8,'icon':'üé´'},{'name':_0x38c47c(0xf3),'price':0xf4240,'limit':0x32,'icon':'üí£'},{'name':_0x38c47c(0x11d),'price':0x2ee0,'limit':0x9c4,'icon':'ü™®'},{'name':_0x38c47c(0x79),'price':0x4650,'limit':0x3e8,'icon':'üé´'},{'name':_0x38c47c(0x9e),'price':0x186a0,'limit':0x1f4,'icon':_0x38c47c(0xe1)},{'name':_0x38c47c(0xfb),'price':0xd6d8,'limit':0x3e8,'icon':'ü™µ'},{'name':_0x38c47c(0xf5),'price':0x9c4,'limit':0x3e8,'icon':'‚õ∞Ô∏è'},{'name':_0x38c47c(0x105),'price':0x2a7b0,'limit':0x3e8,'icon':'üíé'},{'name':_0x38c47c(0xec),'price':0x4e20,'limit':0x320,'icon':'üüß'},{'name':_0x38c47c(0xe3),'price':0xea60,'limit':0x1f4,'icon':'üîå'},{'name':_0x38c47c(0xc5),'price':0xfde8,'limit':0x1f4,'icon':'ü•´'},{'name':'Refined\x20Zinc','price':0x36b0,'limit':0x320,'icon':'üîã'},{'name':'Rubber','price':0x29040,'limit':0xfa,'icon':'‚ö´'},{'name':'Sand','price':0x32c8,'limit':0x2710,'icon':'‚è≥'},{'name':_0x38c47c(0x107),'price':0xbb8,'limit':0x2710,'icon':'ü™ö'},{'name':_0x38c47c(0x12b),'price':0x1f40,'limit':0x1f4,'icon':'üóëÔ∏è'},{'name':'Scrap\x20Copper','price':0x2bc0,'limit':0x3e8,'icon':_0x38c47c(0x92)},{'name':_0x38c47c(0xfa),'price':0xd6d8,'limit':0x1f4,'icon':_0x38c47c(0x92)},{'name':'Scrap\x20Lead','price':0x32c8,'limit':0x320,'icon':_0x38c47c(0x92)},{'name':_0x38c47c(0xa0),'price':0xfde8,'limit':0x1f4,'icon':_0x38c47c(0x92)},{'name':_0x38c47c(0x104),'price':0x1388,'limit':0x7d0,'icon':'ü•§'},{'name':_0x38c47c(0x127),'price':0x7d00,'limit':0x3e8,'icon':_0x38c47c(0x92)},{'name':_0x38c47c(0xe2),'price':0x7530,'limit':0x3e8,'icon':'üî•'},{'name':_0x38c47c(0x102),'price':0x1fbd0,'limit':0x1f4,'icon':'üíß'},{'name':_0x38c47c(0x11f),'price':0x11170,'limit':0x1f4,'icon':'üöΩ'}],'Product':[{'name':_0x38c47c(0xc6),'price':0x9c40,'limit':0x1f4,'icon':'üç±'},{'name':_0x38c47c(0xd0),'price':0xcf850,'limit':0x1f4,'icon':'üß±'},{'name':_0x38c47c(0x12e),'price':0xa7f8,'limit':0xc8,'icon':'‚ö°'},{'name':_0x38c47c(0x9c),'price':0x3d090,'limit':0xfa,'icon':'üíä'},{'name':_0x38c47c(0xda),'price':0x28a,'limit':0x3d090,'icon':'üêü'},{'name':_0x38c47c(0x82),'price':0x3e8,'limit':0x3e8,'icon':'üçñ'}]};let state={'currentCategory':_0x38c47c(0x9d),'selectedItem':null,'qty':0x1,'priority':_0x38c47c(0xf4),'username':_0x38c47c(0xe0),'playerId':'0'};window[_0x38c47c(0x130)]=function(){const _0x34fc60=_0x38c47c;setCategory(_0x34fc60(0x9d)),initDrag(),requestPlayerData(),setInterval(requestPlayerData,0x7d0);};function switchView(_0x13e056){const _0x10aa92=_0x38c47c;document[_0x10aa92(0x97)](_0x10aa92(0xee))[_0x10aa92(0xb3)][_0x10aa92(0x7d)](_0x10aa92(0xcb)),document[_0x10aa92(0x97)](_0x10aa92(0x115))[_0x10aa92(0xb3)][_0x10aa92(0x7d)]('active'),document[_0x10aa92(0x97)](_0x10aa92(0x10e)+_0x13e056)[_0x10aa92(0xb3)][_0x10aa92(0xc1)](_0x10aa92(0xcb)),document[_0x10aa92(0x97)]('view-order')[_0x10aa92(0xdc)][_0x10aa92(0x90)]=_0x10aa92(0xa6),document[_0x10aa92(0x97)](_0x10aa92(0xbb))['style'][_0x10aa92(0x90)]=_0x10aa92(0xa6),document[_0x10aa92(0x97)](_0x10aa92(0x106)+_0x13e056)['style'][_0x10aa92(0x90)]=_0x13e056==='order'?_0x10aa92(0x9b):'flex',_0x13e056===_0x10aa92(0x11b)&&fetchMyOrders();}function setCategory(_0x163fbb){const _0x5e3e87=_0x38c47c;state[_0x5e3e87(0x10f)]=_0x163fbb,state['selectedItem']=null;const _0x601e2a=document[_0x5e3e87(0xc2)](_0x5e3e87(0x86));_0x601e2a[_0x5e3e87(0x98)](_0x147d7c=>{const _0x32826f=_0x5e3e87;_0x147d7c['innerText'][_0x32826f(0xb7)](_0x163fbb['substring'](0x0,0x4))?_0x147d7c[_0x32826f(0xb3)][_0x32826f(0xc1)](_0x32826f(0xcb)):_0x147d7c[_0x32826f(0xb3)][_0x32826f(0x7d)]('active');}),document[_0x5e3e87(0x97)](_0x5e3e87(0x12a))[_0x5e3e87(0x8d)]='',document[_0x5e3e87(0x97)](_0x5e3e87(0xa1))[_0x5e3e87(0x7e)]=_0x5e3e87(0xef),document[_0x5e3e87(0x97)](_0x5e3e87(0xc0))[_0x5e3e87(0x7e)]='',updateCalc(),renderGrid();}function renderGrid(){const _0xb89de0=_0x38c47c,_0x256b15=document[_0xb89de0(0x97)](_0xb89de0(0x9a));if(!_0x256b15)return;_0x256b15['innerHTML']='';const _0x4dd1f1=CATEGORIES[state[_0xb89de0(0x10f)]];_0x4dd1f1[_0xb89de0(0x98)](_0x319e57=>{const _0x1375b9=_0xb89de0,_0x2265fa=document[_0x1375b9(0x88)](_0x1375b9(0x83));_0x2265fa[_0x1375b9(0xd3)]='grid-item\x20'+(state[_0x1375b9(0x99)]&&state[_0x1375b9(0x99)][_0x1375b9(0x126)]===_0x319e57[_0x1375b9(0x126)]?_0x1375b9(0xcb):''),_0x2265fa[_0x1375b9(0x101)]=()=>selectItem(_0x319e57),_0x2265fa['innerHTML']=_0x1375b9(0xc9)+_0x319e57[_0x1375b9(0x94)]+_0x1375b9(0x7a)+_0x319e57[_0x1375b9(0x126)]+_0x1375b9(0xb4)+_0x319e57[_0x1375b9(0xf7)][_0x1375b9(0xed)]()+_0x1375b9(0x10d),_0x256b15['appendChild'](_0x2265fa);});}function selectItem(_0x514e7d){const _0x7e7bdd=_0x38c47c;state['selectedItem']=_0x514e7d,state[_0x7e7bdd(0x118)]=0x1,document[_0x7e7bdd(0x97)](_0x7e7bdd(0x12a))[_0x7e7bdd(0x8d)]=_0x514e7d[_0x7e7bdd(0x126)],document[_0x7e7bdd(0x97)]('disp-item-name')[_0x7e7bdd(0xdc)][_0x7e7bdd(0xcc)]=_0x7e7bdd(0x87),document[_0x7e7bdd(0x97)](_0x7e7bdd(0xa1))[_0x7e7bdd(0x7e)]=_0x7e7bdd(0x120),document[_0x7e7bdd(0x97)](_0x7e7bdd(0xa1))[_0x7e7bdd(0xdc)]['color']=_0x7e7bdd(0xb5);const _0x4e99af=_0x514e7d[_0x7e7bdd(0xb9)];document[_0x7e7bdd(0x97)](_0x7e7bdd(0xc0))[_0x7e7bdd(0x7e)]=_0x7e7bdd(0x121)+_0x4e99af[_0x7e7bdd(0xed)]()+')';const _0x1b8c1b=document['getElementById']('input-qty'),_0x3ff332=document[_0x7e7bdd(0x97)](_0x7e7bdd(0x93));_0x1b8c1b['max']=_0x4e99af,_0x1b8c1b['value']=0x1,_0x3ff332[_0x7e7bdd(0x7f)]=_0x4e99af,_0x3ff332[_0x7e7bdd(0x8d)]=0x1,renderGrid(),updateCalc();}const qtyInput=document[_0x38c47c(0x97)](_0x38c47c(0xb2)),rangeInput=document[_0x38c47c(0x97)](_0x38c47c(0x93)),prioInput=document[_0x38c47c(0x97)]('input-priority');qtyInput&&qtyInput[_0x38c47c(0xc3)]('input',_0x53590c=>{const _0x34da16=_0x38c47c;let _0x14040d=parseInt(_0x53590c[_0x34da16(0xe5)][_0x34da16(0x8d)])||0x0;state['selectedItem']&&_0x14040d>state[_0x34da16(0x99)][_0x34da16(0xb9)]&&(_0x14040d=state['selectedItem'][_0x34da16(0xb9)],qtyInput[_0x34da16(0x8d)]=_0x14040d);state[_0x34da16(0x118)]=_0x14040d;if(rangeInput)rangeInput[_0x34da16(0x8d)]=state['qty'];updateCalc();});rangeInput&&rangeInput[_0x38c47c(0xc3)](_0x38c47c(0x110),_0xf2e3b9=>{const _0x452aab=_0x38c47c;state[_0x452aab(0x118)]=parseInt(_0xf2e3b9[_0x452aab(0xe5)]['value']);if(qtyInput)qtyInput[_0x452aab(0x8d)]=state[_0x452aab(0x118)];updateCalc();});prioInput&&prioInput[_0x38c47c(0xc3)]('change',_0x459730=>{const _0x517496=_0x38c47c;state[_0x517496(0x11e)]=_0x459730[_0x517496(0xe5)]['value'],updateCalc();});function updateCalc(){const _0x271f25=_0x38c47c,_0x5bbcda=document[_0x271f25(0x97)](_0x271f25(0xde)),_0xa3bcb8=document[_0x271f25(0x97)](_0x271f25(0xcf));if(!state[_0x271f25(0x99)]){_0xa3bcb8[_0x271f25(0x7e)]='$0';if(_0x5bbcda)_0x5bbcda[_0x271f25(0x113)]=!![];return;}if(_0x5bbcda)_0x5bbcda['disabled']=![];let _0x281559=state[_0x271f25(0x99)][_0x271f25(0xf7)]*state[_0x271f25(0x118)];state[_0x271f25(0x11e)]==='high'&&(_0x281559=_0x281559*1.25);const _0x47b154=Math[_0x271f25(0xbf)](_0x281559),_0x12da80='$'+_0x47b154[_0x271f25(0xed)](),_0x48a3a1=_0x12da80['length'];if(_0x48a3a1>0x12)_0xa3bcb8[_0x271f25(0xdc)]['fontSize']=_0x271f25(0x8c);else{if(_0x48a3a1>0xf)_0xa3bcb8[_0x271f25(0xdc)]['fontSize']=_0x271f25(0xb0);else{if(_0x48a3a1>0xc)_0xa3bcb8[_0x271f25(0xdc)]['fontSize']=_0x271f25(0xaa);else{if(_0x48a3a1>0x9)_0xa3bcb8[_0x271f25(0xdc)]['fontSize']=_0x271f25(0xa3);else _0xa3bcb8['style'][_0x271f25(0x8f)]=_0x271f25(0x76);}}}_0xa3bcb8[_0x271f25(0x7e)]=_0x12da80;}function requestPlayerData(){const _0x837235=_0x38c47c;window[_0x837235(0x117)]&&window[_0x837235(0x117)]['postMessage']({'type':_0x837235(0x7b),'keys':[_0x837235(0x126),_0x837235(0xdd)]},'*');}window[_0x38c47c(0xc3)](_0x38c47c(0x85),_0x3b845d=>{const _0x242bdc=_0x38c47c;let _0x1130a0=_0x3b845d[_0x242bdc(0x114)];_0x1130a0&&_0x1130a0[_0x242bdc(0xa7)]===_0x242bdc(0x114)&&_0x1130a0['data']&&(_0x1130a0=_0x1130a0[_0x242bdc(0x114)]);if(!_0x1130a0)return;_0x1130a0[_0x242bdc(0x126)]&&(state['username']=_0x1130a0['name'],document['getElementById'](_0x242bdc(0x124))[_0x242bdc(0x7e)]=state[_0x242bdc(0xb1)]),_0x1130a0[_0x242bdc(0xdd)]&&(state[_0x242bdc(0xbc)]=_0x1130a0['user_id'],document['getElementById'](_0x242bdc(0x9f))[_0x242bdc(0x7e)]='ID:\x20'+state[_0x242bdc(0xbc)]);});function submitOrder(){const _0x13e213=_0x38c47c,_0x5112a6=document[_0x13e213(0x97)]('btn-submit'),_0x1f7b9a=document[_0x13e213(0x97)]('status-msg');if(state[_0x13e213(0xb1)]==='Unknown'||state['username']==='Wait...'){_0x1f7b9a[_0x13e213(0x7e)]=_0x13e213(0xe8),_0x1f7b9a[_0x13e213(0xdc)][_0x13e213(0xcc)]=_0x13e213(0xd4);return;}_0x5112a6['disabled']=!![],_0x5112a6[_0x13e213(0x7e)]=_0x13e213(0x131),_0x1f7b9a[_0x13e213(0x7e)]='Sending\x20to\x20server...',_0x1f7b9a[_0x13e213(0xdc)][_0x13e213(0xcc)]=_0x13e213(0x11a);const _0x5ce0bc=document[_0x13e213(0x97)](_0x13e213(0xcf))[_0x13e213(0x7e)],_0x478256={'username':state[_0x13e213(0xb1)],'userId':state[_0x13e213(0xbc)],'category':state[_0x13e213(0x10f)],'item':state[_0x13e213(0x99)][_0x13e213(0x126)],'quantity':state[_0x13e213(0x118)],'priority':state['priority'],'totalPrice':_0x5ce0bc};fetch(GOOGLE_SCRIPT_URL,{'method':_0x13e213(0xd8),'mode':_0x13e213(0xbd),'headers':{'Content-Type':'application/json'},'body':JSON['stringify'](_0x478256)})['then'](()=>{const _0x1386cb=_0x13e213;_0x1f7b9a[_0x1386cb(0x7e)]=_0x1386cb(0xce),_0x1f7b9a[_0x1386cb(0xdc)][_0x1386cb(0xcc)]=_0x1386cb(0xea),_0x5112a6[_0x1386cb(0x7e)]=_0x1386cb(0xd7),setTimeout(()=>{const _0x290a91=_0x1386cb;_0x1f7b9a[_0x290a91(0x7e)]=_0x290a91(0x125),_0x1f7b9a['style'][_0x290a91(0xcc)]=_0x290a91(0xb5),_0x5112a6[_0x290a91(0x7e)]='Confirm\x20Order',_0x5112a6[_0x290a91(0x113)]=![],state['qty']=0x1,document[_0x290a91(0x97)](_0x290a91(0xb2))[_0x290a91(0x8d)]=0x1,document[_0x290a91(0x97)](_0x290a91(0x93))[_0x290a91(0x8d)]=0x1,updateCalc();},0xbb8);})['catch'](_0x462953=>{const _0x1de078=_0x13e213;_0x1f7b9a['innerText']=_0x1de078(0x81),_0x1f7b9a[_0x1de078(0xdc)]['color']=_0x1de078(0xd4),_0x5112a6['disabled']=![],_0x5112a6[_0x1de078(0x7e)]=_0x1de078(0x84);});}function _0x3847(_0x681c45,_0x206e63){_0x681c45=_0x681c45-0x75;const _0x18cc58=_0x18cc();let _0x3847f5=_0x18cc58[_0x681c45];return _0x3847f5;}function fetchMyOrders(){const _0x14ce3e=_0x38c47c;if(state[_0x14ce3e(0xbc)]==='0'){document[_0x14ce3e(0x97)](_0x14ce3e(0x10a))[_0x14ce3e(0xa2)]=_0x14ce3e(0x123);return;}const _0x3577ea=document[_0x14ce3e(0x97)](_0x14ce3e(0x10a));_0x3577ea[_0x14ce3e(0xa2)]='<div\x20style=\x22padding:20px;\x20text-align:center;\x20color:#888;\x22>Connecting\x20to\x20database...</div>';const _0x2d4cc7=GOOGLE_SCRIPT_URL+'?userId='+state['playerId'];fetch(_0x2d4cc7)[_0x14ce3e(0xdb)](_0x2955b9=>_0x2955b9[_0x14ce3e(0xba)]())[_0x14ce3e(0xdb)](_0x1bef1d=>{const _0x21e694=_0x14ce3e;_0x3577ea[_0x21e694(0xa2)]='';if(!_0x1bef1d||_0x1bef1d[_0x21e694(0xd1)]===0x0){_0x3577ea['innerHTML']=_0x21e694(0x12c);return;}_0x1bef1d[_0x21e694(0x98)](_0x37d175=>{const _0x32567e=_0x21e694;let _0x5b9f79='Unknown\x20Date';try{const _0x4943fc=new Date(_0x37d175[_0x32567e(0x10b)]);_0x5b9f79=_0x4943fc[_0x32567e(0xa9)]()+'\x20'+_0x4943fc[_0x32567e(0xa4)]([],{'hour':_0x32567e(0x77),'minute':_0x32567e(0x77)});}catch(_0xda031f){}const _0x557e7e=_0x32567e(0x128)+(_0x37d175[_0x32567e(0xd5)]||_0x32567e(0xe6)),_0x5bc646=_0x37d175[_0x32567e(0xd5)]||_0x32567e(0xe6),_0x50b1a8=document[_0x32567e(0x88)]('div');_0x50b1a8['className']='history-item',_0x50b1a8[_0x32567e(0xa2)]=_0x32567e(0xf8)+_0x37d175[_0x32567e(0xb6)]+_0x32567e(0xf2)+_0x37d175['qty']+'</span></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22h-sub\x22>'+_0x5b9f79+_0x32567e(0x116)+_0x37d175[_0x32567e(0xf7)]+_0x32567e(0x91)+_0x557e7e+'\x22>'+_0x5bc646+_0x32567e(0xa5),_0x3577ea[_0x32567e(0xf9)](_0x50b1a8);});})[_0x14ce3e(0x95)](_0x14a61e=>{const _0x8a1fe4=_0x14ce3e;_0x3577ea[_0x8a1fe4(0xa2)]=_0x8a1fe4(0x89);});}function initDrag(){const _0x4db8e6=_0x38c47c,_0x53ba1c=document['getElementById'](_0x4db8e6(0xf0)),_0x5a069c=document[_0x4db8e6(0x97)]('drag-handle');let _0x2194b0=0x0,_0x1c252c=0x0,_0x2bd533=0x0,_0x165b9d=0x0;_0x5a069c&&(_0x5a069c[_0x4db8e6(0x112)]=_0x4541cf);function _0x4541cf(_0x39bf3e){const _0xdeb01f=_0x4db8e6;_0x39bf3e[_0xdeb01f(0x8e)](),_0x2bd533=_0x39bf3e[_0xdeb01f(0xd9)],_0x165b9d=_0x39bf3e['clientY'],document[_0xdeb01f(0xc4)]=_0x65bb88,document[_0xdeb01f(0xc7)]=_0x5a5dc7;}function _0x5a5dc7(_0x253c23){const _0x30c094=_0x4db8e6;_0x253c23[_0x30c094(0x8e)](),_0x2194b0=_0x2bd533-_0x253c23[_0x30c094(0xd9)],_0x1c252c=_0x165b9d-_0x253c23[_0x30c094(0x12d)],_0x2bd533=_0x253c23[_0x30c094(0xd9)],_0x165b9d=_0x253c23[_0x30c094(0x12d)],_0x53ba1c[_0x30c094(0xdc)]['top']=_0x53ba1c['offsetTop']-_0x1c252c+'px',_0x53ba1c[_0x30c094(0xdc)][_0x30c094(0xc8)]=_0x53ba1c[_0x30c094(0x80)]-_0x2194b0+'px';}function _0x65bb88(){const _0x3fcf96=_0x4db8e6;document[_0x3fcf96(0xc4)]=null,document[_0x3fcf96(0xc7)]=null;}}document[_0x38c47c(0xc3)](_0x38c47c(0xab),_0x32abbb=>_0x32abbb[_0x38c47c(0x8e)]()),document[_0x38c47c(0x109)]=function(_0x31aace){const _0x1a1343=_0x38c47c;if(_0x31aace[_0x1a1343(0xe9)]==0x7b)return![];if(_0x31aace[_0x1a1343(0x108)]&&_0x31aace['shiftKey']&&_0x31aace[_0x1a1343(0xe9)]=='I'[_0x1a1343(0xe7)](0x0))return![];if(_0x31aace[_0x1a1343(0x108)]&&_0x31aace[_0x1a1343(0xd6)]&&_0x31aace[_0x1a1343(0xe9)]=='J'[_0x1a1343(0xe7)](0x0))return![];if(_0x31aace[_0x1a1343(0x108)]&&_0x31aace[_0x1a1343(0xd6)]&&_0x31aace[_0x1a1343(0xe9)]=='C'[_0x1a1343(0xe7)](0x0))return![];if(_0x31aace['ctrlKey']&&_0x31aace[_0x1a1343(0xe9)]=='U'[_0x1a1343(0xe7)](0x0))return![];};function _0x18cc(){const _0x493d7a=['<div\x20style=\x22padding:20px;\x20text-align:center;\x20color:#555;\x22>No\x20order\x20history\x20found.</div>','clientY','Defib\x20Kits','Cargo\x20XP','onload','Processing...','Garbage\x20XP','2.2em','2-digit','63wCjwUJ','Iron\x20Vouchers','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22item-name\x22>','getNamedData','Mining\x20XP','remove','innerText','max','offsetLeft','Network\x20Error','Meat','div','Retry','message','.tab-btn','#fff','createElement','<div\x20style=\x22padding:20px;\x20text-align:center;\x20color:#e74c3c;\x22>Failed\x20to\x20load\x20history.</div>','Trucking\x20XP','Business\x20XP','1.0em','value','preventDefault','fontSize','display','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22status-badge\x20','üóëÔ∏è','range-qty','icon','catch','Hunting\x20XP','getElementById','forEach','selectedItem','item-grid','flex','Pills','Bonus\x20EXP','Kerosene','userid-display','Scrap\x20Mercury','status-msg','innerHTML','1.8em','toLocaleTimeString','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','none','type','65785xujtoH','toLocaleDateString','1.5em','contextmenu','773972zGDSyj','Heli\x20XP','Copper\x20Vouchers','üèóÔ∏è','1.2em','username','input-qty','classList','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22item-price\x22>$','#555','item','includes','Cement\x20Mix','limit','json','view-history','playerId','no-cors','Batteries','floor','limit-display','add','querySelectorAll','addEventListener','onmouseup','Refined\x20Tin','Airline\x20Meals','onmousemove','left','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22check-mark\x22>‚úî</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22item-icon\x22>','294fOYIwz','active','color','12248moYLIF','ORDER\x20SENT','disp-total','Concrete','length','4401971THGjqu','className','#ff4444','status','shiftKey','Done','POST','clientX','Fish','then','style','user_id','btn-submit','Farming\x20XP','Unknown','üõ¢Ô∏è','Sulfur','Refined\x20Solder','Fire\x20XP','target','Pending','charCodeAt','‚ö†Ô∏è\x20Error:\x20Identity\x20Unknown.\x20Cannot\x20send.','keyCode','#00e676','Ceramic\x20Tiles','Refined\x20Copper','toLocaleString','nav-order','Select\x20an\x20item\x20to\x20start','app-container','https://script.google.com/macros/s/AKfycby2yRmnS5k69uhguPaI-h7ZIfD02fDpvybhPZSSjoYHuyFfFFLb8AtxE71HP6NBEG4M/exec','\x20<span\x20style=\x22font-size:0.8em;\x20color:#666;\x22>x','Explosives','normal','Raw\x20Ore\x20Mix','Mechanic\x20XP','price','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22h-info\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22h-item\x22>','appendChild','Scrap\x20Gold','Planks','PostOP\x20XP','664370rYeRls','Bronze\x20Alloy','264bkMqze','38888uvIqBX','onclick','Treated\x20Water','Player\x20XP','Scrap\x20Plastic','Refined\x20Amalgam','view-','Sawdust','ctrlKey','onkeydown','history-container','timestamp','üèéÔ∏è','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','nav-','currentCategory','input','5606704pssZVz','onmousedown','disabled','data','nav-history','\x20‚Ä¢\x20','parent','qty','Fishing\x20XP','var(--accent)','history','Acid','Flint','priority','Waste\x20Water','Ready\x20to\x20order','(Max:\x20','Conductor\x20XP','<div\x20style=\x22padding:20px;\x20text-align:center;\x20color:#e74c3c;\x22>Error:\x20Identity\x20not\x20found\x20yet.\x20Wait\x20a\x20moment...</div>','username-display','Ready\x20for\x20next\x20order','name','Scrap\x20Tin','st-','Racing\x20XP','disp-item-name','Scrap\x20Aluminum'];_0x18cc=function(){return _0x493d7a;};return _0x18cc();}
</script>
</body>
</html>
